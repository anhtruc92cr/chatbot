!function(m){"use strict";function o(){let h=this;h.open_chatbot=function(){const t=m(".soxes_overlay_container.chatbot_bottom");if(t.hasClass("bot_active"))return!1;m("html, body").addClass("hide-scrollbar"),t.addClass("bot_active").css({right:"0"}),t.removeClass("bot_hidden"),m("body").addClass("bot_active"),t.fadeToggle(200),t.find(".close-text").fadeToggle(100),m(".bot_icon_only").fadeToggle("slow")},h.close_chatbot=function(){const t=m(".soxes_overlay_container.chatbot_bottom");if(!t.hasClass("bot_active"))return!1;m("html, body").removeClass("hide-scrollbar"),t.fadeToggle("fast"),t.find(".close-text").fadeToggle(100),setTimeout(function(){t.removeClass("bot_active"),m("body").removeClass("bot_active")},200),m(".bot_icon_only").removeClass("bot_active").animate({right:"10px",bottom:"110px"}).fadeToggle("fast")},h.close_chatbot_animation=function(){m(".soxes_overlay_container.chatbot_bottom").hasClass("bot_active")?(h.close_chatbot(),setTimeout(function(){soxes_chatbot.chatbot_type&&"Shortcode"===soxes_chatbot.chatbot_type&&m(".soxes_overlay_container.chatbot_bottom").css({right:"-400px"})},200)):setTimeout(function(){m(".soxes_overlay_container.chatbot_bottom").css({right:"-400px"}),m(".bot_icon_only").removeClass("hidden").animate({right:"10px"})},200),h.hide_all_answers()},h.hide_all_answers=function(){const t=m(".soxes_overlay_container.chatbot_bottom .bot_content");setTimeout(function(){t.find(".wrap_answer").removeClass("active clicked"),t.not(":first").remove(),m(".soxes_overlay_container.chatbot_bottom .bot_content:first-child").find(".wrap_answer").addClass("active")},200)},h.hide_other_answers=function(t,e){e.find(".wrap_answer").removeClass("active clicked"),t.addClass("active clicked")},h.show_other_answers=function(t,e){e.find(".wrap_answer").addClass("active"),t.removeClass("clicked"),e.nextAll(".bot_content").remove()},h.render_question=function(t){let e="",s=!0;if(e+='<div class="bot_content">',e+='<div class="bot_icon"><img src="'+soxes_chatbot.icon_chatbot+'" alt="chatbot icon"/></div>',e+='<div class="bot_item_wrapper">',""!==t.soxes_question&&(e+='<div class="bot_item bot_question bot_visible">',e+=t.soxes_question,e+="</div>",""!==t.soxes_answers)){for(var o in e+='<div class="bot_item bot_answers bot_visible">',t.soxes_answers){var a=void 0!==soxes_chatbot.chatbot_icon?soxes_chatbot.chatbot_icon:'<svg viewBox="0 0 16 16" role="presentation"><use xlink:href="#svgicon-close"></use></svg>';switch(t.soxes_answers[o].soxes_select_type){case"Form":void 0!==t.soxes_answers[o].soxes_answer&&""!=t.soxes_answers[o].soxes_answer&&""!=t.soxes_answers[o].soxes_answer_form&&(e+='<div class="wrap_answer active wrap_answer_form">',e+='<button class="bot__item bot__answer bot_open_form" data-value="'+t.soxes_answers[o].soxes_answer_form+'" data-action="openForm">'+t.soxes_answers[o].soxes_answer+"</button>",e+='<span class="sprite sprite--close">'+a+"</span>",e+="</div>",s&&(h.enhance_form(t.soxes_answers[o].soxes_answer_form,s),s=!1));break;case"Direct contact":var n=t.soxes_answers[o].soxes_direct_contact.position||"",r=t.soxes_answers[o].soxes_direct_contact.display_name||"",i=t.soxes_answers[o].soxes_direct_contact.gender||"",c=(void 0!==soxes_chatbot.direct_txt&&soxes_chatbot.direct_txt,void 0!==soxes_chatbot.address_txt?soxes_chatbot.address_txt:""),_=void 0!==t.soxes_answers[o].soxes_direct_contact.email?t.soxes_answers[o].soxes_direct_contact.email:"",l=Math.pow(2,6),d=String.fromCharCode(l),p="soxes.ch";String.fromCharCode(l);void 0!==t.soxes_answers[o].soxes_answer&&""!=t.soxes_answers[o].soxes_answer&&""!=t.soxes_answers[o].soxes_direct_contact.ID&&(e+='<div class="wrap_answer active wrap_answer_form">',e+='<button class="bot__item bot__answer bot_open_form bot_open_form_direct" data-value="'+t.soxes_answers[o].soxes_answer_form+'" data-email="'+_+'" data-action="openForm">'+t.soxes_answers[o].soxes_answer+"</button>",_&&(e+='<div class="author-wrapper">',e+='<div class="contact-info">',e+='<div class="avatar">',void 0!==t.soxes_answers[o].soxes_direct_contact.avatar.sizes.medium&&(e+='<img src="'+t.soxes_answers[o].soxes_direct_contact.avatar.sizes.medium+'" alt="'+r+'" />'),e+="</div>",e+='<div class="author-details">',e+="<p><strong>"+i+"</strong></p>",e+='<p class="info"><strong class="name">'+r+'</strong><br/><span class="position">'+n+'</span><br/><br/>\n                <strong class="company">'+c+"</strong><br/>"+("<span class='email'>"+_+d+p+"</span>")+"</p>",e+="</div>",e+="</div>",e+="</div>"),e+='<span class="sprite sprite--close">'+a+"</span>",e+="</div>",s&&(h.enhance_form(t.soxes_answers[o].soxes_answer_form,s),s=!1));break;case"Link":void 0!==t.soxes_answers[o].soxes_answer&&""!=t.soxes_answers[o].soxes_answer&&""!=t.soxes_answers[o].soxes_answer_link&&(e+='<div class="wrap_answer_outer">',e+='<div class="wrap_answer_inner">',e+='<div class="tooltip_chatbot">'+soxes_chatbot.tooltip_text+"</div>",e+='<div class="wrap_answer active">',e+='<a class="bot__item bot__answer bot_open_link" href="'+t.soxes_answers[o].soxes_answer_link+'">'+t.soxes_answers[o].soxes_answer+"</a>",e+='<span class="sprite sprite--close">'+a+"</span>",e+="</div>",e+="</div>",e+="</div>");break;case"Category":if(""!=t.soxes_answers[o].soxes_category&&m.isArray(t.soxes_answers[o].soxes_category))for(var f in t.soxes_answers[o].soxes_category)e+='<div class="wrap_answer_outer">',e+='<div class="wrap_answer_inner">',e+='<div class="tooltip_chatbot">'+soxes_chatbot.tooltip_text+"</div>",e+='<div class="wrap_answer active">',e+='<a class="bot__item bot__answer bot_open_link" href="'+t.soxes_answers[o].soxes_category[f].link+'">'+t.soxes_answers[o].soxes_category[f].name+"</a>",e+='<span class="sprite sprite--close">'+a+"</span>",e+="</div>",e+="</div>",e+="</div>";break;case"Posts":if(""!=t.soxes_answers[o].soxes_answer_posts&&m.isArray(t.soxes_answers[o].soxes_answer_posts))for(var f in t.soxes_answers[o].soxes_answer_posts)e+='<div class="wrap_answer_outer">',e+='<div class="wrap_answer_inner">',e+='<div class="tooltip_chatbot">'+soxes_chatbot.tooltip_text+"</div>",e+='<div class="wrap_answer active">',e+='<a class="bot__item bot__answer bot_open_link" target="_blank" href="'+t.soxes_answers[o].soxes_answer_posts[f].link+'">'+t.soxes_answers[o].soxes_answer_posts[f].name+"</a>",e+='<span class="sprite sprite--close">'+a+"</span>",e+="</div>",e+="</div>",e+="</div>";break;default:void 0!==t.soxes_answers[o].soxes_answer&&""!=t.soxes_answers[o].soxes_answer&&(e+='<div class="wrap_answer active">',e+='<button class="bot__item bot__answer" data-value="'+t.soxes_answers[o].id+'" data-action="openQuestion">'+t.soxes_answers[o].soxes_answer+"</button>",e+='<span class="sprite sprite--close">'+a+"</span>",e+="</div>")}}e+="</div>"}e+="</div>",e+="</div>",m(".soxes_overlay_container.chatbot_bottom .bot_inner").append(e).show("slow")},h.open_modal=function(t,e,s="",o=""){localStorage.setItem("text_chatbot",e),localStorage.setItem("email_chatbot",s),o&&t.find(".modal-header").append(o),(e||s)&&h.insert_text(t,e,s),t.addClass("show").fadeToggle("slow","linear"),0<m(".grecaptcha-badge").length&&m(".grecaptcha-badge").css({opacity:1,"z-index":"99999"})},h.close_modal=function(t){let e=t.find("textarea");e.val(""),t.find(".contact-info").remove(),t.removeClass("show").fadeToggle("fast","linear"),t.find(".gform_validation_errors").remove(),t.find(".gfield_validation_message").remove(),t.find(".gfield").removeClass("sk-gfield_error"),t.hasClass("clicked")||t.addClass("clicked"),0<m(".grecaptcha-badge").length&&m(".grecaptcha-badge").css({opacity:0}),localStorage.removeItem("text_chatbot"),localStorage.removeItem("email_chatbot")},h.insert_text=function(t,e="",s=""){let o=t.find(".ginput_container_textarea textarea"),a=void 0!==e&&0<e.length?e:localStorage.getItem("text_chatbot"),n=void 0!==s&&0<s.length?s:localStorage.getItem("email_chatbot");"string"==typeof a&&0<a.length&&(s=soxes_chatbot.hello_txt+",\n\n"+a.replace(/(<([^>]+)>)/gi,"")+" ",o.val(s).trigger("click"),o.closest(".gfield").hasClass("input-focused")||o.closest(".gfield").addClass("input-focused text-gray")),n&&t.find('input[name="input_7"]').val(n)},h.render_form=function(t){let e=m(".modal-form-chatbot #soxes-form-wrapper_"+t);e.closest(".modal-form-chatbot").addClass("loading"),s||m.ajax({url:soxes_chatbot.ajax_url,type:"GET",data:{action:"rerender_form",form_id:t||0},beforeSend:function(){s=!0},complete:function(){s=!1},success:function(t){e.html(t).addClass("gf-after-ajax-call"),setTimeout(function(){e.closest(".modal-form-chatbot").removeClass("loading"),e.closest(".modal-wrapper").removeClass("confirmation"),e.find("input:not(.gfield-choice-input, .gform_hidden, [type=hidden]), textarea").after('<div class="chatbot-input-mask"><span>&nbsp;</span></div>'),e.find(".phone_number_contact input").removeAttr("disabled"),e.find(".phone_number_contact .gfield_required").hide(),h.insert_text(e)},500),setTimeout(function(){e.closest(".modal-wrapper").removeClass("clicked")},5e3)}})},h.enhance_form=function(t,e=!1){0==m(".modal-form-chatbot #soxes-form-wrapper_"+t+" .gform_wrapper").length&&e&&h.render_form(t)}}var s=!1;function t(){m(".chatbot-txt-1").hasClass("rotateInUpRight")||(m(".chatbot-txt-1").addClass("rotateInUpRight"),m(".chatbot-txt-1").removeClass("rotateOutUpRight"),m(".chatbot-txt-1").removeClass("hidden")),setTimeout(function(){m(".chatbot-txt-1").hasClass("rotateOutUpRight")||(m(".chatbot-txt-1").addClass("rotateOutUpRight"),m(".chatbot-txt-1").removeClass("rotateInUpRight"))},2e3),setTimeout(function(){m(".chatbot-txt-2").hasClass("rotateInUpRight")||(m(".chatbot-txt-2").removeClass("hidden"),m(".chatbot-txt-2").addClass("rotateInUpRight"),m(".chatbot-txt-2").removeClass("rotateOutDownRight"),m(".chatbot-txt-1").addClass("hidden"))},2100),setTimeout(function(){m(".chatbot-txt-2").hasClass("rotateOutDownRight")||(m(".chatbot-txt-2").addClass("rotateOutDownRight"),m(".chatbot-txt-2").removeClass("rotateInUpRight"))},4100),setTimeout(function(){m(".chatbot-txt-2").addClass("hidden")},4600)}setTimeout(function(t){if(0<m(".soxes_overlay_container").length){var _=new o;let t=m(".soxes_overlay_container.chatbot_bottom .default_questions").html(),e=[],i=[],c=[];if(m(".modal-form-chatbot").find(".gform_wrapper").show("slow"),void 0!==t&&(e=m.parseJSON(t)),void 0===e.isArray)for(var s in e)i.push([s,e[s]]);else i=e;m("body").on("click",".bot_icon_only",function(t){t.preventDefault(),soxes_chatbot.chatbot_type&&"Fixed bottom"===soxes_chatbot.chatbot_type?m(".bot_icon_only").hasClass("hidden")||m(".soxes_overlay_container.chatbot_bottom").css({right:"0"}):_.open_chatbot()}),m("body").on("click",".wrap_answer",function(t){t.preventDefault();let e=m(this),s=e.find(".bot__item"),o=0,a=!0,n;var r;s.hasClass("bot_open_link")?(window.open(s.attr("href")),a=!1):s.hasClass("bot_open_form")&&void 0!==s.data("value")?(t=s.data("value"),r="empty"==s.data("text")?"":s.html(),_.enhance_form(t,!0),s.hasClass("bot_open_form_direct")?_.open_modal(m("#modal-form-"+t),r,s.data("email"),s.parent().find(".author-wrapper").html()):_.open_modal(m("#modal-form-"+t),r),a=!1):o=s.data("value"),n=s.data("match")?m(".soxes_overlay_container.chatbot_bottom").find("[data-match='"+s.data("match")+"']").parent():e,!e.hasClass("active clicked")&&a?(_.open_chatbot(),_.hide_other_answers(n,n.closest(".bot_content")),void 0!==o&&0!==o&&m.isArray(i)&&(c=m.grep(i,function(t){return t[1].soxes_parent_answer_id===o})),void 0!==c[0]&&void 0!==c[0][1]&&(r=c[0][1],_.render_question(r))):_.show_other_answers(n,n.closest(".bot_content"))}),m("body").on("click",".box-actions .sprite",function(t){t.preventDefault(),_.close_chatbot_animation()}),m("body").on("focus",".soxes-form-wrapper input, .soxes-form-wrapper textarea",function(){let t=m(this).closest(".gfield");t.hasClass("input-focused")||t.addClass("input-focused"),t.hasClass("text-gray")&&t.removeClass("text-gray")}),m("body").on("blur",".soxes-form-wrapper input, .soxes-form-wrapper textarea",function(){let t=m(this).closest(".gfield");t.hasClass("input-focused")&&""==m(this).val()&&t.removeClass("input-focused"),t.hasClass("text-gray")||t.addClass("text-gray")}),1024<m(window).width()?m("body").on("click",".soxes-form-wrapper .chatbot-radio label",function(){let t=m(this).closest("form");t.find(".textarea-contact-content textarea").val(t.find(".textarea-contact-content textarea").val()+m(this).html()+" "),t.find(".textarea-contact-content .ginput_container .gfield_label").addClass("mdc-floating-label--float-above")}):m("body").on("click",".soxes-form-wrapper .chatbot-radio .gchoice",function(t){t.preventDefault();let e=m(this).closest("form");e.find(".textarea-contact-content textarea").val(e.find(".textarea-contact-content textarea").val()+m(this).find("label").html()+" "),e.find(".textarea-contact-content .ginput_container .gfield_label").addClass("mdc-floating-label--float-above")}),m("body").on("click",".soxes-form-wrapper .chatbot-radio .gchoice",function(){let t=m(".soxes-form-wrapper .textarea-contact-content");t.hasClass("input-focused")||t.addClass("input-focused"),t.hasClass("text-gray")||t.addClass("text-gray")}),m("body").on("keyup",".soxes-form-wrapper .phone_number_contact input",function(){var t=m(this).val().replace(/[^0-9+,\(\)\-]/g,"").substring(0,20);m(this).val(t),m(".soxes-form-wrapper .phone_number_contact input").val(t)}),m("body").on("click",".modal-actions .sprite--close",function(e){e.preventDefault();let s=m(this).closest(".modal-wrapper");if(_.close_modal(s),0<m(".modal-form-chatbot .gform_confirmation_wrapper").length){let t=s.find(".soxes-form-wrapper").attr("id");!t||void 0!==(e=t.split("soxes-form-wrapper_"))[1]&&_.render_form(e[1])}}),m(document).on("keyup",function(t){"Escape"==t.key&&_.close_chatbot_animation()}),m(document).on("gform_post_render",function(t,e,s){if(soxes_chatbot.default_form==e){m('.soxes-form-wrapper input[type="text"], .soxes-form-wrapper input[type="email"], .soxes-form-wrapper input[type="tel"], .soxes-form-wrapper .ginput_container_textarea textarea').each(function(){let t=m(this).closest(".gfield");0<m(this).val().length&&t.addClass("input-focused input-focused text-gray")}),function(t){let e=m(t?"#gform_"+t:".gform_body");"by_phone"===e.find(".radio-inline input:checked").val()?e.find(".phone_number_contact .gfield_required").show():e.find(".phone_number_contact .gfield_required").hide();m("body").on("submit","#gform_"+soxes_chatbot.default_form,function(){m("#gform_submit_button_"+soxes_chatbot.default_form).addClass("disabled")}),m(document).on("change",".radio-inline input[type=radio]",function(){let t=m(this).closest("form");"by_phone"===m(this).val()?t.find(".phone_number_contact .gfield_required").show():"by_email"===m(this).val()&&t.find(".phone_number_contact .gfield_required").hide()})}(e);let t=m("#input_"+e+"_8").val();setTimeout(function(){m("#input_"+e+"_15").val(t)},100)}})}},400),m(document).ready(function(){setInterval(function(){t()},8e3),setTimeout(function(){t()},2e3)})}(jQuery);